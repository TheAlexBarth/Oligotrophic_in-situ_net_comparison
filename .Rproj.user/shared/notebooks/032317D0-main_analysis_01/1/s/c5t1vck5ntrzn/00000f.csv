"0","#| column: screen-inset"
"0",""
"0","comp_taxo <- c('Chaetognatha', 'Annelida', 'Copepoda', 'Shrimp-like',"
"0","               'Ostra/Clado')"
"0","# Format the data for the table"
"0","summary_df <- function(df, sum_col, sum_by) {"
"0","  rdf <- data.frame(taxa = unique(df[[sum_by]]),"
"0","                      min = rep(NA, length(unique(df[[sum_by]]))),"
"0","                      median = rep(NA, length(unique(df[[sum_by]]))),"
"0","                      mean = rep(NA, length(unique(df[[sum_by]]))),"
"0","                      max = rep(NA, length(unique(df[[sum_by]]))))"
"0","  "
"0","  rdf$min <-  aggregate(df[[sum_col]], by = list(taxa = df[[sum_by]]),"
"0","                      FUN = min)$x"
"0","  rdf$median <- aggregate(df[[sum_col]], by = list(taxa = df[[sum_by]]),"
"0","                      FUN = median)$x"
"0","  rdf$mean <- aggregate(df[[sum_col]], by = list(taxa = df[[sum_by]]),"
"0","                      FUN = mean)$x"
"0","  rdf$max <- aggregate(df[[sum_col]], by = list(taxa = df[[sum_by]]),"
"0","                      FUN = max)$x"
"0","  "
"0","  all_sum <- data.frame(taxa = 'All-Living')"
"0","  all_sum$min <- min(df[[sum_col]])"
"0","  all_sum$median <- median(df[[sum_col]])"
"0","  all_sum$mean <- mean(df[[sum_col]])"
"0","  all_sum$max <- max(df[[sum_col]])"
"0","  "
"0","  rdf <- rbind(all_sum, rdf)"
"0","  return(rdf)"
"0","}"
"0",""
"0","moc_dat <- summary_df(dat_list$moc_trim, 'calc_esd', 'taxo_name')"
"2","Error in unique(df[[sum_by]]) : object 'dat_list' not found
"
